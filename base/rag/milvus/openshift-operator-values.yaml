# Milvus Operator Helm values for OpenShift
#
# Key constraint: OpenShift assigns a UID range per namespace via SCC.
# The upstream chart hardcodes runAsUser: 65532 which falls outside
# the namespace's allocated range, causing pod creation to fail.
#
# Fix: omit runAsUser entirely so OpenShift assigns from its range.
#
# Note: the chart template hardcodes the container securityContext to
# only include allowPrivilegeEscalation. capabilities.drop and
# seccompProfile cannot be set via values -- we patch post-install.

podSecurityContext:
  # Do NOT set runAsUser -- let OpenShift assign from namespace range
  runAsNonRoot: true
  seccompProfile:
    type: RuntimeDefault

# This is the only container-level securityContext field the chart
# template actually uses (it's inlined, not from .Values.securityContext)
allowPrivilegeEscalation: false

resources:
  requests:
    cpu: 100m
    memory: 128Mi
  limits:
    cpu: 500m
    memory: 512Mi
