---
description: Enforces that model references stay in sync with models.yaml
alwaysApply: true
---

# Model Alignment Rule

`models.yaml` is the **reference** for recommended Synesis models. Models are deployed via **OpenShift AI 3** (dashboard or InferenceService YAML), not by Synesis manifests.

## When modifying model references:

1. **Update `models.yaml`** with recommended HuggingFace repos and metadata
2. **Update config files** that point at deployed model endpoints:
   - `base/gateway/litellm-config.yaml` — `api_base` for synesis-coder, synesis-supervisor
   - `base/planner/app/config.py` — default `coder_model_url`, `supervisor_model_url`
   - `base/planner/deployment.yaml` — env vars `SYNESIS_CODER_MODEL_URL`, `SYNESIS_SUPERVISOR_MODEL_URL`
   - `base/supervisor/configmap.yaml` — `qwen-coder.endpoint`, `mistral-nemo.endpoint`
3. **Remind the user** to deploy models via OpenShift AI 3 and configure endpoints if deployment names differ from defaults (`synesis-coder`, `synesis-supervisor`)

## Service URL pattern

`http://<inference-service-name>-predictor.<namespace>.svc.cluster.local:8080/v1`
